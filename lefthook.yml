# EXAMPLE USAGE:
#
#   Refer for explanation to following link:
#   https://lefthook.dev/configuration/
#
pre-push:
  parallel: true
  jobs:
    - run: just lint
      glob: "*.rs"
    - run: just format-check
      glob:
        - "justfile"
        - "**/*.{rs,md,yml}"
    - run: cargo shear
    - run: dist plan
    - run: cargo test
      glob: "**/*.rs"

pre-commit:
  jobs:
    - run: just diet && git add ./crates/**/Cargo.toml Cargo.toml
    - run: just format
      glob:
        - "justfile"
        - "**/*.{rs,md,yml}"
      stage_fixed: true
